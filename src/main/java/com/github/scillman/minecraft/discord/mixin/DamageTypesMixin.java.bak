package com.github.scillman.minecraft.discord.mixin;

import org.spongepowered.asm.mixin.Mixin;
import org.spongepowered.asm.mixin.injection.At;
import org.spongepowered.asm.mixin.injection.Inject;
import org.spongepowered.asm.mixin.injection.callback.CallbackInfo;

import com.github.scillman.minecraft.discord.registry.ModDamageTypes;

import net.minecraft.entity.damage.DamageEffects;
import net.minecraft.entity.damage.DamageScaling;
import net.minecraft.entity.damage.DamageType;
import net.minecraft.entity.damage.DamageTypes;
import net.minecraft.entity.damage.DeathMessageType;
import net.minecraft.registry.Registerable;

@Mixin(DamageTypes.class)
public abstract class DamageTypesMixin
{
    @Inject(method = "bootstrap", at = @At("RETURN"))
    private void discord$onBootstrap(Registerable<DamageType> damageTypeRegisterable, CallbackInfo ci)
    {
        damageTypeRegisterable.register(ModDamageTypes.DEMO_DAMAGE_TYPE_1, new DamageType(ModDamageTypes.DEMO_DAMAGE_TYPE_1.getValue().getPath(), DamageScaling.WHEN_CAUSED_BY_LIVING_NON_PLAYER, 0.0f, DamageEffects.HURT, DeathMessageType.DEFAULT));

        damageTypeRegisterable.register(ModDamageTypes.DEMO_DAMAGE_TYPE_2, new DamageType(ModDamageTypes.DEMO_DAMAGE_TYPE_2.getValue().getPath(), DamageScaling.WHEN_CAUSED_BY_LIVING_NON_PLAYER, 0.0f, DamageEffects.HURT, DeathMessageType.DEFAULT));
    }
}
